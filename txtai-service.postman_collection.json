{
  "info": {
    "name": "txtai Service",
    "schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json"
  },
  "item": [
    {
      "name": "Health Check",
      "event": [
        {
          "listen": "test",
          "script": {
            "exec": [
              "console.log('Health Check Response:', JSON.stringify(pm.response.json(), null, 2));"
            ],
            "type": "text/javascript"
          }
        }
      ],
      "request": {
        "method": "GET",
        "url": {
          "raw": "{{base_url}}/",
          "host": ["{{base_url}}"]
        }
      }
    },
    {
      "name": "Add Recipe Documents",
      "event": [
        {
          "listen": "test",
          "script": {
            "exec": [
              "console.log('Add Documents Response:', JSON.stringify(pm.response.json(), null, 2));"
            ],
            "type": "text/javascript"
          }
        }
      ],
      "request": {
        "method": "POST",
        "url": {
          "raw": "{{base_url}}/api/embeddings/add",
          "host": ["{{base_url}}"],
          "path": ["api", "embeddings", "add"]
        },
        "header": [
          {
            "key": "Content-Type",
            "value": "application/json"
          }
        ],
        "body": {
          "mode": "raw",
          "raw": "{\"documents\": [{\"text\": \"Spaghetti carbonara is a classic Italian pasta dish made with eggs, pecorino cheese, guanciale, and black pepper\", \"metadata\": {\"category\": \"pasta\", \"cuisine\": \"Italian\", \"difficulty\": \"intermediate\"}}, {\"text\": \"Traditional Japanese ramen consists of wheat noodles in a rich pork bone broth with chashu pork, soft-boiled egg, and nori\", \"metadata\": {\"category\": \"soup\", \"cuisine\": \"Japanese\", \"difficulty\": \"advanced\"}}, {\"text\": \"Chicken tikka masala features grilled marinated chicken in a creamy, spiced tomato-based curry sauce\", \"metadata\": {\"category\": \"curry\", \"cuisine\": \"Indian\", \"difficulty\": \"intermediate\"}}, {\"text\": \"Fresh pesto sauce combines basil leaves, pine nuts, garlic, parmesan cheese, and olive oil, perfect for pasta\", \"metadata\": {\"category\": \"sauce\", \"cuisine\": \"Italian\", \"difficulty\": \"easy\"}}, {\"text\": \"Classic French onion soup is made with caramelized onions, beef broth, and topped with crusty bread and melted gruyere cheese\", \"metadata\": {\"category\": \"soup\", \"cuisine\": \"French\", \"difficulty\": \"intermediate\"}}, {\"text\": \"Homemade pizza dough requires flour, yeast, water, and olive oil, kneaded until elastic and left to rise\", \"metadata\": {\"category\": \"bread\", \"cuisine\": \"Italian\", \"difficulty\": \"intermediate\"}}, {\"text\": \"Beef bourguignon is a French stew of beef braised in red wine with mushrooms, pearl onions, and bacon lardons\", \"metadata\": {\"category\": \"stew\", \"cuisine\": \"French\", \"difficulty\": \"advanced\"}}, {\"text\": \"Fresh guacamole combines ripe avocados, lime juice, diced onions, tomatoes, cilantro, and jalapeÃ±os\", \"metadata\": {\"category\": \"appetizer\", \"cuisine\": \"Mexican\", \"difficulty\": \"easy\"}}]}"
        }
      }
    },
    {
      "name": "Semantic Search - Italian Dishes",
      "event": [
        {
          "listen": "test",
          "script": {
            "exec": [
              "console.log('\\nSemantic Search Results for Italian Dishes:')",
              "const response = pm.response.json();",
              "const results = response.results;",
              "results.forEach((result, index) => {",
              "    console.log(`\\n${index + 1}. Score: ${result.score.toFixed(4)}`);",
              "    console.log(`   Text: ${result.text}`);",
              "});"
            ],
            "type": "text/javascript"
          }
        }
      ],
      "request": {
        "method": "POST",
        "url": {
          "raw": "{{base_url}}/api/embeddings/semantic-search",
          "host": ["{{base_url}}"],
          "path": ["api", "embeddings", "semantic-search"]
        },
        "header": [
          {
            "key": "Content-Type",
            "value": "application/json"
          }
        ],
        "body": {
          "mode": "raw",
          "raw": "{\"query\": \"traditional Italian pasta recipes\", \"limit\": 3}"
        }
      }
    },
    {
      "name": "Search Soup Dishes",
      "event": [
        {
          "listen": "test",
          "script": {
            "exec": [
              "console.log('\\nSearch Results for Soup Dishes:')",
              "const response = pm.response.json();",
              "const results = response.results;",
              "results.forEach((result, index) => {",
              "    console.log(`\\n${index + 1}. Score: ${result.scores.semantic.toFixed(4)}`);",
              "    console.log(`   Text: ${result.text}`);",
              "    if (result.metadata) {",
              "        console.log(`   Metadata: ${JSON.stringify(result.metadata, null, 2)}`);",
              "    }",
              "});"
            ],
            "type": "text/javascript"
          }
        }
      ],
      "request": {
        "method": "POST",
        "url": {
          "raw": "{{base_url}}/api/embeddings/search",
          "host": ["{{base_url}}"],
          "path": ["api", "embeddings", "search"]
        },
        "header": [
          {
            "key": "Content-Type",
            "value": "application/json"
          }
        ],
        "body": {
          "mode": "raw",
          "raw": "{\"query\": \"hot soup with broth\", \"limit\": 2}"
        }
      }
    }
  ],
  "variable": [
    {
      "key": "base_url",
      "value": "http://localhost:8000",
      "type": "string"
    }
  ]
}
